# zig-sts

åŸºäº `zig` å®ç°çš„ STSï¼ˆStatistical Test Suiteï¼‰æµ‹è¯•å¥—ä»¶ï¼Œæ”¯æŒå¤šç§ç»Ÿè®¡æµ‹è¯•æ–¹æ³•ï¼Œé€‚ç”¨äºå¯†ç å­¦å’Œæ•°æ®åˆ†æé¢†åŸŸã€‚
å…¨è¦†ç›– NIST SP 800-22a, GMT 0005-2021 ä¸¤å¥—æ ‡å‡†ã€‚

## ç¼–è¯‘ä½¿ç”¨

### ä¸‹è½½æœ¬ä»“åº“

`git clone https://github.com/zhaozg/sts-zig.git`

### ä¸‹è½½ Zig 0.14.1

ä»[ziglang.org](https://ziglang.org/download)é€‰æ‹©å¯¹åº”ç³»ç»Ÿçš„é¢„ç¼–è¯‘å®‰è£…åŒ…ã€‚

### ç¼–è¯‘

```sh
cd sts-zig
zig build
zig-out/bin/sts-zig -h
```

### è¿è¡Œæµ‹è¯•ç”¨ä¾‹

```sh
cd sts-zig
zig build test
```

## ç›®çš„

- å­¦ä¹  STS çš„å®ç°åŸç†ï¼Œäº†è§£ STS çš„åº”ç”¨åœºæ™¯ã€‚
- äº†è§£ Zig è¯­è¨€çš„ç‰¹æ€§å’Œä¼˜åŠ¿ï¼Œå­¦ä¹ å¦‚ä½•ä½¿ç”¨ Zig å®ç°é«˜æ€§èƒ½çš„ç»Ÿè®¡æµ‹è¯•ã€‚
- å°è¯•ä½¿ç”¨ AI è¿›è¡Œä»£ç ç”Ÿæˆå’Œä¼˜åŒ–ï¼Œæ¢ç´¢ AI åœ¨ç¼–ç¨‹ä¸­çš„åº”ç”¨ã€‚

## ç›®å½•ç»“æ„

é€‚åˆæ‰©å±•å’Œç»´æŠ¤ï¼Œä¾¿äºæ·»åŠ æ–°çš„æµ‹è¯•æ–¹æ³•ï¼š


```
src/
  main.zig                // ç¨‹åºå…¥å£ï¼Œå‘½ä»¤è¡Œè§£æã€ä¸»æµç¨‹
  suite.zig               // TestSuite å®šä¹‰ä¸ç®¡ç†
  detect.zig              // Test trait/interface åŠé€šç”¨æ•°æ®ç»“æ„
  params.zig              // æµ‹è¯•å‚æ•°ç»“æ„ä½“ã€å‚æ•°è§£æ
  result.zig              // æµ‹è¯•ç»“æœç»“æ„ä½“ã€ç»Ÿè®¡åˆ†æ
  io.zig                  // æ•°æ®è¾“å…¥è¾“å‡ºã€æ–‡ä»¶æ“ä½œ
  utils.zig               // é€šç”¨å·¥å…·å‡½æ•°
  detects/
    frequency.zig         // é¢‘ç‡æµ‹è¯•å®ç°
    block_frequency.zig   // å—é¢‘ç‡æµ‹è¯•å®ç°
    runs.zig              // Runs æµ‹è¯•å®ç°
    ...                   // å…¶ä»–æµ‹è¯•æ–¹æ³•ï¼Œæ¯ä¸ªæµ‹è¯•ä¸€ä¸ªæ–‡ä»¶
README.md                 // é¡¹ç›®è¯´æ˜
build.zig                 // Zig æ„å»ºè„šæœ¬
```

**è¯´æ˜ï¼š**

- `src/main.zig`ï¼šç¨‹åºå…¥å£ï¼Œè´Ÿè´£åˆå§‹åŒ–ã€å‚æ•°è§£æã€è°ƒåº¦ TestSuiteã€‚
- `src/suite.zig`ï¼šTestSuite ç»“æ„ä½“ï¼Œè´Ÿè´£æ³¨å†Œå’Œè¿è¡Œæ‰€æœ‰æµ‹è¯•ã€‚
- `src/detect.zig`ï¼šå®šä¹‰ Test æ¥å£ï¼ˆtraitï¼‰å’Œæ‰€æœ‰æµ‹è¯•é€šç”¨çš„ç±»å‹ã€‚
- `src/params.zig`ï¼šå‚æ•°ç»“æ„ä½“å’Œå‚æ•°è§£æé€»è¾‘ã€‚
- `src/result.zig`ï¼šæµ‹è¯•ç»“æœç»“æ„ä½“ã€ç»Ÿè®¡åˆ†æç›¸å…³ä»£ç ã€‚
- `src/io.zig`ï¼šæ•°æ®è¯»å–ã€ç»“æœè¾“å‡ºç­‰ I/O ç›¸å…³ä»£ç ã€‚
- `src/utils.zig`ï¼šé€šç”¨è¾…åŠ©å‡½æ•°ã€‚
- `src/detects/`ï¼šæ¯ä¸ªæµ‹è¯•æ–¹æ³•ä¸€ä¸ªæ–‡ä»¶ï¼Œä¾¿äºç‹¬ç«‹å¼€å‘å’Œæ‰©å±•ã€‚

**æ‰©å±•æ–°æµ‹è¯•æ–¹æ³•æ—¶ï¼š**

- åœ¨ `src/detects/` ä¸‹æ–°å»º `xxx.zig`ï¼Œå®ç° `Test` æ¥å£ã€‚
- åœ¨ `suite.zig` æ³¨å†Œå³å¯ã€‚
- `test` è¿™ä¸ªåå­—åœ¨ Zig ä¸­æ˜¯ä¿ç•™å­—ï¼Œä¸èƒ½ä½œä¸ºæ–‡ä»¶åæˆ–å˜é‡åã€‚ é‡‡ç”¨ `detect` ä½œä¸ºæµ‹è¯•ç›¸å…³æ–‡ä»¶åã€‚


## **æ ‡å‡†å…¼å®¹æ€§å£°æ˜**

- **GM/T 0005-2021**ï¼ˆä¸­å›½å›½å¯†æœ€æ–°æ ‡å‡†ï¼‰
- **NIST SP800-22**ï¼ˆç¾å›½æ ‡å‡†ï¼‰


| GMT 0005 æ£€æµ‹é¡¹       | è‹±æ–‡ NIST SP800-22           | é€‚ç”¨ | NIST P      | GMT å‚æ•°          |
| -------------------   | ---                          | ---- | --          | ----------------- |
| 1. å•æ¯”ç‰¹é¢‘æ•°æ£€æµ‹     | 1. Frequency                 | ğŸ‡ºğŸ‡¸ğŸ‡¨ğŸ‡³ |             |                   |
| 2. å—å†…é¢‘æ•°æ£€æµ‹       | 2. Block Frequency           | ğŸ‡ºğŸ‡¸ğŸ‡¨ğŸ‡³ | 16384       | 1000:10000:100000 |
| 3. æ‰‘å…‹æ£€æµ‹           | YY Poker                     | ğŸ‡¨ğŸ‡³   |             | 4:8               |
| 4. é‡å å­åºåˆ—æ£€æµ‹     | YY Overlapping Sequency      | ğŸ‡¨ğŸ‡³   |             | 3:5:7             |
| 5. æ¸¸ç¨‹æ€»æ•°æ£€æµ‹       | 3. Runs                      | ğŸ‡ºğŸ‡¸ğŸ‡¨ğŸ‡³ |             |                   |
| 6. æ¸¸ç¨‹åˆ†å¸ƒæ£€æµ‹       | YY Run Distribution          | ğŸ‡¨ğŸ‡³   |             |                   |
| 7. å—å†…æœ€å¤§æ¸¸ç¨‹æ£€æµ‹   | 4. Longest Run               | ğŸ‡ºğŸ‡¸ğŸ‡¨ğŸ‡³ |             |                   |
| 8. äºŒå…ƒæ¨å¯¼æ£€æµ‹       | YY Binary Derivative         | ğŸ‡¨ğŸ‡³   |             | 3:7:15            |
| 9. è‡ªç›¸å…³æ£€æµ‹         | YY Autocorrelation           | ğŸ‡ºğŸ‡¸ğŸ‡¨ğŸ‡³ |             | 1:2:8:16:32       |
| 10.çŸ©é˜µç§©æ£€æµ‹         | 5. Rank                      | ğŸ‡ºğŸ‡¸ğŸ‡¨ğŸ‡³ |             |                   |
| 11.ç´¯åŠ å’Œæ£€æµ‹         | 13.Cumulative Sums           | ğŸ‡ºğŸ‡¸ğŸ‡¨ğŸ‡³ |             |                   |
| 12.è¿‘ä¼¼ç†µæ£€æµ‹         | 12.Approx Entropy            | ğŸ‡ºğŸ‡¸ğŸ‡¨ğŸ‡³ | 10          | 5:7               |
| 13.çº¿æ€§å¤æ‚åº¦æ£€æµ‹     | 10.Linear Complexity         | ğŸ‡ºğŸ‡¸ğŸ‡¨ğŸ‡³ | 500         | 1000:5000         |
| 14.é€šç”¨ç»Ÿè®¡æ£€æµ‹       | 9. Maurer Universal          | ğŸ‡ºğŸ‡¸ğŸ‡¨ğŸ‡³ | L=8, Q=2560 | L=7, Q=1280       |
| 15.ç¦»æ•£å‚…ç«‹å¶æ£€æµ‹     | 6. DFT                       | ğŸ‡ºğŸ‡¸ğŸ‡¨ğŸ‡³ |             |                   |
| XX éé‡å æ¨¡æ¿åŒ¹é…æ£€æµ‹ | 7. Non-overlapping Template  | ğŸ‡ºğŸ‡¸   |             |                   |
| XX é‡å å­æ¨¡æ¿æ£€æµ‹     | 8. Overlapping Template      | ğŸ‡ºğŸ‡¸   |             |                   |
| XX åºåˆ—æµ‹è¯•           | 11.Serial                    | ğŸ‡ºğŸ‡¸   | 16          |                   |
| XX éšæœºåç§»æ£€æµ‹       | 14.Random Excursions         | ğŸ‡ºğŸ‡¸   |             |                   |
| XX éšæœºåç§»å˜ä½“æµ‹è¯•   | 15.Random Excursions Variant | ğŸ‡ºğŸ‡¸   |             |                   |

---

